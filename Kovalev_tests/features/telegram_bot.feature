Feature: Telegram Bot Functional Tests
  Проверка всех функций бота: регистрация, авторизация, игры, погода, факты и советы.

  Scenario: Успешная регистрация пользователя
    Given Я удаляю пользователя "new@example.com"
    Given Я ввел почту "new@example.com"
    And Я ввел пароль "password123"
    When Я пытаюсь зарегистрироваться
    Then Регистрация должна быть успешной

  Scenario: Регистрация с существующей почтой
    Given Пользователь с почтой "existing@example.com" уже существует
    And Я ввел почту "existing@example.com"
    And Я ввел пароль "secure"
    When Я пытаюсь зарегистрироваться
    Then Должна быть ошибка "Пользователь уже существует"

  Scenario: Успешная авторизация
    Given Я ввел почту "existing@example.com"
    And Я ввел пароль "secure"
    When Я пытаюсь войти
    Then Авторизация должна быть успешной

  Scenario: Авторизация с неверным паролем
    Given Я ввел почту "existing@example.com"
    And Я ввел пароль "wrongpass"
    When Я пытаюсь войти
    Then Должна быть ошибка "Неверный email или пароль"

  Scenario: Получение случайного факта
    When Я запрашиваю случайный факт
    Then Я должен получить ответ в чате от бота, содержащий "Факт"

  Scenario: Получение погоды
    When Я запрашиваю погоду
    Then Я должен получить температуру и описание

  Scenario: Угадал число
    Given Я начинаю игру угадай число
    When Я угадываю число
    Then Я должен получить сообщение о победе с поздравлением

  Scenario: Не угадал число (меньше)
    Given Я начинаю игру угадай число
    When Я ввожу число меньше загаданного
    Then Я должен получить подсказку "меньше"

  Scenario: Победа в рулетке
    Given Я выбираю "красное"
    When Выпадает "красное"
    Then Я выиграл

  Scenario: Получение совета по расходам
    When Я запрашиваю совет
    Then Я должен получить "Совет" от бота